{"type":"operationStart","subtype":"profile","data":{"_id":"Cng2w6ZzIh0kT3WC","timestamp":"2025-01-12T23:02:53.958Z","state":"queued","mode":"standard","creationDate":"2025-01-12T23:02:53.958Z","modificationDate":"2025-01-12T23:02:53.958Z","shortid":"Fdv3mRr","$entitySet":"profiles"},"doDiffs":false,"timestamp":1736722973958,"id":"5bsuqdzm7nvkyt7","previousOperationId":null,"operationId":"da6tylzni6kma6z"}
{"type":"log","level":"info","message":"Render request 3 queued for execution and waiting for available worker","previousOperationId":"da6tylzni6kma6z","timestamp":1736722973958,"id":"2n4n3qzmref5sfr"}
{"type":"operationStart","subtype":"render","name":"reporte21","previousOperationId":"da6tylzni6kma6z","timestamp":1736722973961,"id":"0y6x313jtrhk1tr","previousEventId":"5bsuqdzm7nvkyt7","operationId":"pg4dfwlevza87u2"}
{"type":"log","timestamp":1736722973961,"level":"info","message":"Starting rendering request 3","meta":{"rootId":"m0gcba4kvrkkq4n","id":"m0gcba4kvrkkq4n"},"id":"5koz8uegteymm4g","previousOperationId":"pg4dfwlevza87u2"}
{"type":"log","timestamp":1736722973961,"level":"info","message":"Rendering template { name: reporte21, recipe: chrome-pdf, engine: handlebars, preview: false }","meta":{"rootId":"m0gcba4kvrkkq4n","id":"m0gcba4kvrkkq4n"},"id":"oeea7apz652wc0i","previousOperationId":"pg4dfwlevza87u2"}
{"type":"log","timestamp":1736722973961,"level":"debug","message":"Inline data specified.","meta":{"rootId":"m0gcba4kvrkkq4n","id":"m0gcba4kvrkkq4n"},"id":"3xqbhluetkbus6w","previousOperationId":"pg4dfwlevza87u2"}
{"type":"log","timestamp":1736722973963,"level":"debug","message":"Base url not specified, skipping its injection.","meta":{"rootId":"m0gcba4kvrkkq4n","id":"m0gcba4kvrkkq4n"},"id":"reph6uz99nea2ie","previousOperationId":"pg4dfwlevza87u2"}
{"type":"operationStart","subtype":"engine","name":"handlebars","timestamp":1736722973964,"id":"v90jcbw2m6g0rdn","previousEventId":"0y6x313jtrhk1tr","operationId":"p6y91bte6tcn5l3","previousOperationId":"pg4dfwlevza87u2"}
{"type":"log","timestamp":1736722973966,"level":"debug","message":"Rendering engine handlebars","meta":{"rootId":"m0gcba4kvrkkq4n","id":"m0gcba4kvrkkq4n"},"id":"5frcc7oct624gpu","previousOperationId":"p6y91bte6tcn5l3"}
{"type":"log","timestamp":1736722973983,"level":"warn","message":"Error when processing render request 3\n(because) error when evaluating engine handlebars for template /reporte21\n(because) missing helper: \"fullName\"\n\n(sandbox.js line 16:18)\nError: Missing helper: \"fullName\"\n  at Object.<anonymous> (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js:19:13)\n  at Object.wrapper (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js:15:19)\n  at 1 (eval at <anonymous> (eval at makeEvaluate (/workspaces/ucabair/BACKEND/node_modules/@jsreport/ses/index.js:6197:27)), <anonymous>:12:106)\n  at prog (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/runtime.js:268:12)\n  at execIteration (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/helpers/each.js:51:19)\n  at Object.<anonymous> (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/helpers/each.js:61:13)\n  at Object.wrapper (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js:15:19)\n  at Object.main (eval at <anonymous> (eval at makeEvaluate (/workspaces/ucabair/BACKEND/node_modules/@jsreport/ses/index.js:6197:27)), <anonymous>:41:49)\n  at main (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/runtime.js:208:32)\n  at ret (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/runtime.js:212:12)\n  at Object.execute (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:80:14)\n  at Object.execute (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-handlebars/lib/worker.js:27:43)\n  at executionFn (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:273:42)\n  at eval (sandbox.js:16:18)\n  at async run (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:214:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /reporte21\n(because) missing helper: \"fullName\"\n  at module.exports (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n  at WorkerReporter.createError (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:53:12)\n  at executeEngine (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:377:35)\n  at async engine.engine (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:162:14)\n  at async invokeRender (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n  at async WorkerReporter._render (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:148:7)\n  at async /workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:232:24\n  at async processAndResponse (/workspaces/ucabair/BACKEND/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:41:17)","meta":{"rootId":"m0gcba4kvrkkq4n","id":"m0gcba4kvrkkq4n"},"id":"fxqyncpcf53a0wa","previousOperationId":"p6y91bte6tcn5l3"}
{"type":"log","timestamp":1736722973983,"level":"warn","message":"Rendering request 3 finished with error in 26 ms","meta":{"rootId":"m0gcba4kvrkkq4n","id":"m0gcba4kvrkkq4n"},"id":"460cdw1tbp7iosp","previousOperationId":"p6y91bte6tcn5l3"}
{"type":"error","timestamp":1736722973985,"entity":{"shortid":"UqPxepbDT","name":"reporte21","content":"<!DOCTYPE html>\r\n<html lang=\"es\">\r\n<head>\r\n  <meta charset=\"UTF-8\">\r\n  <title>Reporte21</title>\r\n  <style>\r\n    body {\r\n      font-family: Arial, sans-serif;\r\n    }\r\n    header {\r\n      display: flex;\r\n      justify-content: space-between;\r\n      align-items: center;\r\n      margin-bottom: 30px;\r\n    }\r\n    .logo {\r\n      width: 150px;\r\n    }\r\n    .date {\r\n      text-align: right;\r\n    }\r\n    .report-title {\r\n      text-align: center;\r\n      margin: 20px 0;\r\n      font-size: 1.5em;\r\n    }\r\n    table {\r\n      width: 100%;\r\n      border-collapse: collapse;\r\n    }\r\n    th, td {\r\n      border: 1px solid black;\r\n      padding: 8px;\r\n      text-align: left;\r\n    }\r\n    th {\r\n      background-color: #f2f2f2;\r\n    }\r\n    tr:nth-child(even) {\r\n      background-color: #f9f9f9;\r\n    }\r\n    tr:nth-child(odd) {\r\n      background-color: #f2f2f2;\r\n    }\r\n    td:first-child {\r\n      width: 30%;\r\n    }\r\n    td:nth-child(3), td:nth-child(4) {\r\n      width: 20%;\r\n    }\r\n  </style>\r\n</head>\r\n<body>\r\n  <header>\r\n    <img src=\"{{logoUrl}}\" alt=\"Logo de la Empresa\" class=\"logo\">\r\n    <div class=\"date\">Fecha: {{formatDate}}</div>\r\n  </header>\r\n  <div class=\"report-title\">Empleados con sus proyectos asignados</div>\r\n  <table id=\"reporte\">\r\n    <thead>\r\n      <tr>\r\n        <th>Nombre y Apellido</th>\r\n        <th>ID del Proyecto</th>\r\n        <th>ID Pieza - Nombre de su prueba</th>\r\n        <th>ID Material - Nombre de su prueba</th>\r\n        <th>ID Avion - Nombre de su prueba</th>\r\n      </tr>\r\n    </thead>\r\n    <tbody>\r\n      {{#each fila}}\r\n      <tr>\r\n        <td>{{fullName nombreEmpleado apellidoEmpleado}}</td>\r\n        <td>{{IDconstruccion}}</td>\r\n        <!-- <td>{{IDpieza}}  {{nombrePruebaPieza}}</td>\r\n        <td>{{IDmaterial}}  {{nombrePruebaMaterial}}</td>\r\n        <td>{{IDavion}}  {{nombrePruebaAvion}}</td> -->\r\n      </tr>\r\n      {{/each}}\r\n    </tbody>\r\n  </table>\r\n  <script> \r\n    function mergeTableCells(tableId) { \r\n      const table = document.getElementById(tableId); \r\n      const rows = table.rows; \r\n      for (let i = 0; i < 3; i++) { \r\n        let currentCell = null; \r\n        let rowspan = 1; \r\n        for (let j = 1; j < rows.length; j++) { \r\n          const cell = rows[j].cells[i]; \r\n          if (currentCell === null) { \r\n            currentCell = cell; \r\n          } else if (currentCell.innerHTML === cell.innerHTML) { \r\n            rowspan++; \r\n            cell.style.display = 'none'; \r\n            currentCell.rowSpan = rowspan; \r\n          } else { \r\n            currentCell = cell; \r\n            rowspan = 1; \r\n          } \r\n        } \r\n      } \r\n    } \r\n    window.onload = () => { \r\n      mergeTableCells('reporte'); \r\n    };\r\n  </script>\r\n</body>\r\n</html>\r\n"},"property":"helpers","statusCode":400,"weak":true,"logged":true,"previousOperationId":"p6y91bte6tcn5l3","id":"hnpxwj08bzah4yb","stack":"Error: Missing helper: \"fullName\"\n  at Object.<anonymous> (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/helpers/helper-missing.js:19:13)\n  at Object.wrapper (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js:15:19)\n  at 1 (eval at <anonymous> (eval at makeEvaluate (/workspaces/ucabair/BACKEND/node_modules/@jsreport/ses/index.js:6197:27)), <anonymous>:12:106)\n  at prog (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/runtime.js:268:12)\n  at execIteration (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/helpers/each.js:51:19)\n  at Object.<anonymous> (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/helpers/each.js:61:13)\n  at Object.wrapper (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/internal/wrapHelper.js:15:19)\n  at Object.main (eval at <anonymous> (eval at makeEvaluate (/workspaces/ucabair/BACKEND/node_modules/@jsreport/ses/index.js:6197:27)), <anonymous>:41:49)\n  at main (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/runtime.js:208:32)\n  at ret (/workspaces/ucabair/BACKEND/node_modules/handlebars/dist/cjs/handlebars/runtime.js:212:12)\n  at Object.execute (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-handlebars/lib/handlebarsEngine.js:80:14)\n  at Object.execute (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-handlebars/lib/worker.js:27:43)\n  at executionFn (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:273:42)\n  at eval (sandbox.js:16:18)\n  at async run (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/createSandbox.js:132:18)\n  at async WorkerReporter.runInSandbox [as _runInSandbox] (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/sandbox/runInSandbox.js:214:14)\nwrapped by:\nError: Error when evaluating engine handlebars for template /reporte21\n(because) missing helper: \"fullName\"\n  at module.exports (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/shared/createError.js:10:13)\n  at WorkerReporter.createError (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/shared/reporter.js:53:12)\n  at executeEngine (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:377:35)\n  at async engine.engine (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/executeEngine.js:162:14)\n  at async invokeRender (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:61:23)\n  at async WorkerReporter._render (/workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/render/render.js:148:7)\n  at async /workspaces/ucabair/BACKEND/node_modules/@jsreport/jsreport-core/lib/worker/reporter.js:232:24\n  at async processAndResponse (/workspaces/ucabair/BACKEND/node_modules/@jsreport/advanced-workers/lib/workerHandler.js:41:17)","message":"Error when evaluating engine handlebars for template /reporte21\n(because) missing helper: \"fullName\"\n\n(sandbox.js line 16:18)"}
